{"version":3,"file":"DatePicker.js","names":["React","useState","useRef","useEffect","PropTypes","DatePicker","onChange","value","style","lang","format","start","id","className","propTypes","func","string","object","popupDisplay","setPopupDisplay","chosenYear","setChosenYear","Date","getFullYear","currentMonth","setCurrentMonth","getMonth","popupHorizontalAlign","setPopupHorizontalAlign","popupVerticalAlign","setPopupVerticalAlign","popupRef","yearSelectorRef","inputFieldRef","days","dayShift","indexOf","toLowerCase","document","addEventListener","e","current","contains","target","isLeapYear","year","popupRect","getBoundingClientRect","bottom","window","innerHeight","height","offsetHeight","handleInputFocus","inputRect","left","handleYearChange","newYear","parseInt","daysOfTheMonth","handleYearBlur","min","max","handleYearWheel","focus","toPreviousMonth","preventDefault","setTimeout","toNextMonth","daysOfTheWeek","daysOfTheWeekArray","day","weekDayName","toLocaleDateString","undefined","weekday","trimmedName","slice","push","createElement","key","display","width","textTransform","textAlign","gridTemplateColumns","clickOnDay","toString","padStart","month","newDate","monthLength","previousMonthLength","includes","firstDayIndex","getDay","monthPage","i","previousMonthDay","border","background","color","onClick","onMouseDown","onMouseOver","onMouseOut","gridTemplateRows","margin","Fragment","type","ref","onFocus","date","padding","paddingRight","marginLeft","marginTop","backgroundColor","borderBottomColor","boxShadow","toLocaleString","onBlur","onWheel","marginRight","float"],"sources":["../src/DatePicker.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n/**\r\n * DatePicker is the combination of an input with a date selection popup modal.\r\n * @constructor\r\n* @callback onChange - function called when the date is changed\r\n* @param {string} value - value of the input field trasmitted by the onChange callback\r\n* @param {Object} style - inline style object for the input field\r\n* @param {string} lang - language used by the calendar (default: browser language)\r\n* @param {string} format - format of the date string (default: 'DMY' for DD/MM/YYYY)\r\n* @param {string} start - first day of the week (default: 'monday')\r\n* @param {string} id - id of the input field\r\n* @param {string} className - class(es) of the input field\r\n */\r\nconst DatePicker = (\r\n{ \r\n  onChange = () => {}, value, style,\r\n  lang = 'default', format = 'DMY', start = 'monday',\r\n  id='date-picker',className='date-picker'\r\n}) => {\r\n  DatePicker.propTypes = {\r\n    onChange: PropTypes.func,\r\n    value: PropTypes.string,\r\n    style: PropTypes.object,\r\n    lang: PropTypes.string,\r\n    format: PropTypes.string,\r\n    start: PropTypes.string,\r\n    id: PropTypes.string,\r\n    className: PropTypes.string,\r\n  }\r\n  // Whether the popup is displayed or not\r\n  const [popupDisplay, setPopupDisplay] = useState(false)\r\n  // The year chosen in the year selector input (default: current year)\r\n  const [chosenYear, setChosenYear] = useState(new Date().getFullYear())\r\n  // The current month chosen with the month selector arrows (default: current month)\r\n  const [currentMonth, setCurrentMonth] = useState(new Date().getMonth())\r\n\r\n  // Horizontally align the popup with the input field\r\n  const [popupHorizontalAlign, setPopupHorizontalAlign] = useState(0)\r\n  // Vertical align is automatic, but the popup is displayed\r\n  // above the input field if there is not enough space below\r\n  const [popupVerticalAlign, setPopupVerticalAlign] = useState(0)\r\n  \r\n  const popupRef = useRef(null)\r\n  const yearSelectorRef = useRef(null)\r\n  const inputFieldRef = useRef(null)\r\n\r\n  // The first day of the week is different depending on the country / culture\r\n  // ISO 8601 determines the first day of the week as Monday, so it's the default value\r\n  const days = ['sunday','monday','tuesday','wednesday','thursday','friday','saturday']\r\n  const dayShift = days.indexOf(start.toLowerCase()) || 0\r\n\r\n  // If the user clicks outside the popup after clicking in it, close it\r\n  document.addEventListener('mousedown', (e) => {\r\n    if (!popupDisplay) return\r\n    if (popupRef.current && !popupRef.current.contains(e.target)) {\r\n      setPopupDisplay(false)\r\n    }\r\n  })\r\n\r\n  // A leap year is a year with 366 days instead of 365\r\n  const isLeapYear = (year) =>\r\n    (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0\r\n\r\n  useEffect(() => {\r\n    if (popupRef.current) {\r\n      const popupRect = popupRef.current.getBoundingClientRect();\r\n      if (popupRect.bottom > window.innerHeight) {\r\n        setPopupVerticalAlign(0 - popupRect.height - inputFieldRef.current.offsetHeight - 4)\r\n      } else {\r\n        setPopupVerticalAlign(4)\r\n      }\r\n    }\r\n  }, [popupDisplay])\r\n\r\n  const handleInputFocus = () => {\r\n    const inputRect = inputFieldRef.current.getBoundingClientRect()\r\n    setPopupHorizontalAlign(inputRect.left)\r\n    setPopupDisplay(true)\r\n  }\r\n\r\n  const handleYearChange = (e) => {\r\n    const newYear = parseInt(e.target.value)\r\n    setChosenYear(newYear)\r\n    daysOfTheMonth()\r\n  }\r\n\r\n  const handleYearBlur = () => {\r\n    if (yearSelectorRef.current.value < yearSelectorRef.current.min) {\r\n      yearSelectorRef.current.value = yearSelectorRef.current.min\r\n    }\r\n    if (yearSelectorRef.current.value > yearSelectorRef.current.max) {\r\n      yearSelectorRef.current.value = yearSelectorRef.current.max\r\n    }\r\n  }\r\n\r\n  const handleYearWheel = () =>  yearSelectorRef.current.focus()\r\n\r\n  const toPreviousMonth = (e) => {\r\n    e.preventDefault()\r\n    setTimeout(() => {\r\n        if (currentMonth === 0) {\r\n            setCurrentMonth(11)\r\n            setChosenYear(chosenYear - 1)\r\n        }\r\n        else setCurrentMonth(currentMonth - 1)\r\n        daysOfTheMonth()\r\n    }, 10)\r\n  }\r\n\r\n  const toNextMonth = (e) => {\r\n    e.preventDefault()\r\n    setTimeout(() => {\r\n        if (currentMonth === 11) {\r\n            setCurrentMonth(0)\r\n            setChosenYear(chosenYear + 1)\r\n        }\r\n        else setCurrentMonth(currentMonth + 1)\r\n        daysOfTheMonth()\r\n    }, 10)\r\n  }\r\n\r\n  const daysOfTheWeek = () => {\r\n    const daysOfTheWeekArray = []\r\n  \r\n    for (let day = dayShift ; day < 7 + dayShift ; day++) {\r\n      const weekDayName = new Date(0, 0, (day)%7)\r\n      .toLocaleDateString(lang || undefined, { weekday: 'short' })\r\n      const trimmedName = weekDayName.slice(0, -1)\r\n  \r\n      daysOfTheWeekArray.push(\r\n        <span key={day} style={{\r\n          display: 'inline-block',\r\n          width: '35px',\r\n          textTransform: 'capitalize',\r\n          textAlign: 'center'\r\n        }}>\r\n          {trimmedName}\r\n        </span>\r\n      )\r\n    }\r\n  \r\n    return (\r\n      <div className=\"week-days\"\r\n      style={{\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(7, 40px)',\r\n      }}>\r\n        {daysOfTheWeekArray}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const clickOnDay = (day) => {\r\n    day = day.toString().padStart(2, '0')\r\n    const month = (currentMonth + 1).toString().padStart(2, '0')\r\n    const newDate =\r\n      // MDY for US format :\r\n      format === 'MDY' ?\r\n        `${month}/${day}/${chosenYear}`\r\n      // YMD for ISO format :\r\n      : format === 'YMD' ?\r\n        `${chosenYear}/${month}/${day}`\r\n      : // DMY is the default format :\r\n    `${day}/${month}/${chosenYear}`\r\n\r\n    inputFieldRef.current.value = newDate\r\n    onChange(newDate)\r\n    setPopupDisplay(false)\r\n  }\r\n\r\n  const daysOfTheMonth = () => {\r\n    // Calculate month and previousMonth lengths\r\n    let monthLength = 31\r\n    let previousMonthLength = 31\r\n\r\n    if ([4, 6, 9, 11].includes(currentMonth + 1)) {\r\n      monthLength = 30\r\n    }\r\n    if ([5, 7, 10, 12].includes(currentMonth + 1)) {\r\n      previousMonthLength = 30\r\n    }\r\n    if (currentMonth + 1 === 2) {\r\n      monthLength = isLeapYear(chosenYear) ? 29 : 28\r\n    }\r\n    if (currentMonth + 1 === 3) {\r\n      previousMonthLength = isLeapYear(chosenYear) ? 29 : 28\r\n    }\r\n\r\n    // Calculate the index of the first day of the currentMonth\r\n    const firstDayIndex = new Date(chosenYear, currentMonth, 7-dayShift+1).getDay()\r\n\r\n    // Create an array to hold the days of the month\r\n    const monthPage = []\r\n\r\n    // Add the last days of the previous currentMonth to fill the first week\r\n    for (let i = 1 ; i <= firstDayIndex ; i++) {\r\n      const previousMonthDay = previousMonthLength - firstDayIndex + i\r\n      monthPage.push(\r\n        <button\r\n          key={\"previousMonth-\"+i}\r\n          className=\"day-button previousMonth\"\r\n          style={{ width: '30px', border: 'none', background: 'none', color: '#CCC' }}\r\n          onClick={toPreviousMonth}\r\n        >\r\n          {previousMonthDay}\r\n        </button>\r\n      )\r\n    }\r\n\r\n    // Add the days of the currentMonth\r\n    for (let day = 1 ; day <= monthLength ; day++) {\r\n      monthPage.push(\r\n        <button\r\n          key={\"currentMonth-\"+day}\r\n          className=\"day-button currentMonth\"\r\n          style={{ width: '30px', border: 'none', background: 'none' }}\r\n          onMouseDown={() => clickOnDay(day)}\r\n          onMouseOver={(e) => e.target.style.background = '#EEE'}\r\n          onMouseOut= {(e) => e.target.style.background = 'none'}\r\n        >{day}</button>\r\n      )\r\n    }\r\n\r\n    // Add the remaining days of the next currentMonth to reach 42 days (6 weeks of 7 days)\r\n    for (let i = 1 ; i <= 42 - monthLength - firstDayIndex ; i++) {\r\n      monthPage.push(\r\n        <button\r\n          key={\"nextMonth\"+i}\r\n          className=\"day-button nextMonth\"\r\n          style={{ width: '30px', border: 'none', background: 'none', color: '#CCC' }}\r\n          onMouseDown={toNextMonth}\r\n        >\r\n          {i}\r\n        </button>\r\n      )\r\n    }\r\n\r\n    // Return the array of days in a grid div\r\n    return (\r\n        <div className=\"month-days\"\r\n        style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(7, 40px)',\r\n          gridTemplateRows: 'repeat(6, 24px)',\r\n          margin: '0 3px'\r\n        }}>\r\n          {monthPage}\r\n        </div>\r\n      )\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <input \r\n        id={id}\r\n        className={className}\r\n        style={style}\r\n        type=\"text\"\r\n        value={value}\r\n        ref={inputFieldRef}\r\n        onFocus={handleInputFocus}\r\n        onChange={(date) => onChange(date.target.value)}\r\n      />\r\n    <dialog id=\"popup\" className=\"date-picker-popup\" ref={popupRef}\r\n        style={{ \r\n            height: '190px',\r\n            padding: '10px', paddingRight: '0',\r\n            marginLeft: `${popupHorizontalAlign}px`,\r\n            marginTop:  `${popupVerticalAlign}px`,\r\n            backgroundColor: '#FFF',\r\n            border: '1px solid #CCC', borderBottomColor: '#BBB',\r\n            boxShadow: '0 5px 15px -5px rgba(0, 0, 0, 0.5)',\r\n            display: (popupDisplay ? 'block' : 'none')\r\n        }}>\r\n\r\n        {/* Month selector */}\r\n        <div className=\"month-selector\" style = {{\r\n          display: 'inline-block', \r\n          textAlign: 'center',\r\n          marginLeft: '4px'\r\n        }}>\r\n          <button onClick={toPreviousMonth}>{'<'}</button>\r\n          <span style = {{\r\n            display: 'inline-block',\r\n            width: '6rem',\r\n            textTransform: 'capitalize',\r\n            textAlign: 'center'\r\n          }}>\r\n            {new Date(chosenYear, currentMonth).\r\n            toLocaleString(lang || undefined, { month: 'long' })}\r\n          </span>\r\n          <button onClick={toNextMonth}>{'>'}</button>\r\n        </div>\r\n\r\n        {/* Year selector */}\r\n        <input\r\n          type=\"number\"\r\n          ref={yearSelectorRef}\r\n          min=\"1900\"\r\n          max={new Date().getFullYear()}\r\n          value={chosenYear}\r\n          onChange={handleYearChange}\r\n          onBlur={handleYearBlur}\r\n          onWheel={handleYearWheel}\r\n          style = {{\r\n            width: '51px',\r\n            marginRight: '16px',\r\n            float: 'right'\r\n          }}\r\n        />\r\n        {daysOfTheWeek()}\r\n\r\n        {daysOfTheMonth()}\r\n      </dialog>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport {DatePicker}"],"mappings":"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"}